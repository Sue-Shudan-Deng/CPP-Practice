{"id":398477896,"lang":"cpp","lang_name":"C++","time":"2 years, 11 months","timestamp":1600639804,"status":10,"status_display":"Accepted","runtime":"0 ms","url":"/submissions/detail/398477896/","is_pending":"Not Pending","title":"Read N Characters Given read4 II - Call Multiple Times","memory":"6.5 MB","code":"/**\n * The read4 API is defined in the parent class Reader4.\n *     int read4(char *buf4);\n */\n\nclass Solution {\n\nprivate:\n    int pointer = 0, len = 0;\n    char* buf4 = new char[4];\n    \npublic:\n    /**\n     * @param buf Destination buffer\n     * @param n   Number of characters to read\n     * @return    The number of actual characters read\n     */\n    int read(char *buf, int n) {\n        int index = 0;\n        while (index < n) {\n            // read\n            if (pointer == 0) {\n                len = read4(buf4);\n                if (len == 0) {\n                    break;\n                }\n            }\n            // copy\n            while (index < n && pointer < len) {\n                buf[index] = buf4[pointer];\n                ++pointer;\n                ++index;\n            }\n            if (len < 4) {\n                break;\n            }\n            if (pointer == len) {\n                pointer = 0;\n            }\n        }\n        return index;\n    }\n};","compare_result":"111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"read-n-characters-given-read4-ii-call-multiple-times","has_notes":false,"flag_type":1}