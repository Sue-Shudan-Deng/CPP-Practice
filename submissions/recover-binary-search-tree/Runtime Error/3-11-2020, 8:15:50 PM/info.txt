{"id":311688117,"lang":"python3","lang_name":"Python3","time":"3 years, 5 months","timestamp":1583982950,"status":15,"status_display":"Runtime Error","runtime":"N/A","url":"/submissions/detail/311688117/","is_pending":"Not Pending","title":"Recover Binary Search Tree","memory":"N/A","code":"# Definition for a binary tree node.\n# class TreeNode:\n#     def __init__(self, x):\n#         self.val = x\n#         self.left = None\n#         self.right = None\n\nclass Solution:\n    def recoverTree(self, root: TreeNode) -> None:\n        \"\"\"\n        方法一：最朴素的解法\n        \"\"\"\n        def inorder(root: TreeNode) -> List[int]:\n            if not root:\n                return []\n            res, stack = [], []\n            while stack or root:\n                while root:\n                    stack.append(root)\n                    root = root.left\n                root = stack.pop()\n                res.append(root.val)\n                root = root.right\n            return res\n        \n        def find_two_swapped(nums: List[int]) -> (int, int):\n            \"\"\"\n            中序遍历的BST必然满足\"前一个＜后一个\"\n            \"\"\"\n            x, y = -1, -1\n            for i in range(len(nums)):\n                if nums[i + 1] < nums[i]:\n                    y = nums[i + 1]\n                    if x == -1:\n                        x = nums[i]\n                    else:\n                        # second occurance, break\n                        break\n            return x, y\n        \n        def recover(node: TreeNode, cnt: int):\n            if not node:\n                return \n            if node.val == x:\n                node.val = y\n                cnt -= 1\n            elif node.val == y:\n                node.val = x\n                cnt -= 1\n            if cnt == 0:\n                return\n            recover(node.left, cnt)\n            recover(node.right, cnt)\n            \n        nums = inorder(root)\n        x, y = find_two_swapped(nums)\n        recover(root, 2)\n            \n            \n            \n            \n            \n                \n        ","compare_result":"100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","title_slug":"recover-binary-search-tree","has_notes":false,"flag_type":1}