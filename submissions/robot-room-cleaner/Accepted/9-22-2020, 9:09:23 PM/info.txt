{"id":399501775,"lang":"cpp","lang_name":"C++","time":"2 years, 11 months","timestamp":1600834163,"status":10,"status_display":"Accepted","runtime":"20 ms","url":"/submissions/detail/399501775/","is_pending":"Not Pending","title":"Robot Room Cleaner","memory":"8.5 MB","code":"/**\n * // This is the robot's control interface.\n * // You should not implement it, or speculate about its implementation\n * class Robot {\n *   public:\n *     // Returns true if the cell in front is open and robot moves into the cell.\n *     // Returns false if the cell in front is blocked and robot stays in the current cell.\n *     bool move();\n *\n *     // Robot will stay in the same cell after calling turnLeft/turnRight.\n *     // Each turn will be 90 degrees.\n *     void turnLeft();\n *     void turnRight();\n *\n *     // Clean the current cell.\n *     void clean();\n * };\n */\n\nclass Solution {\n    \nprivate:\n    vector<pair<int, int>> ds;\n    void goback(Robot& robot) {\n        robot.turnLeft();\n        robot.turnLeft();\n        robot.move();\n        robot.turnLeft();\n        robot.turnLeft();\n    }   \n    \n    void backtrack(Robot& robot, pair<int, int> pre_cell, int pre_dir, \n                   set<pair<int, int>>& visited) {\n        \n        if (visited.count(pre_cell)) return;\n        robot.clean();\n        visited.insert(pre_cell);\n        for (int i = 0; i < 4; ++i) {\n            // set\n            bool available = robot.move();\n            // 为什么这里只能是向前而不是向左之后再向前是因为，第一个方向是(0, 1)\n            if (available) {\n                // Then backtrack(and clear)\n                int cur_dir = (pre_dir + i) % 4;\n                pair<int, int> cur_cell{pre_cell.first + ds[cur_dir].first, \n                                        pre_cell.second + ds[cur_dir].second};\n                backtrack(robot, cur_cell, cur_dir, visited);\n                // clear\n                goback(robot);\n            }\n            robot.turnLeft();\n        }\n    }\n    \npublic:\n    void cleanRoom(Robot& robot) {\n        ds = vector<pair<int, int>>{{0, 1}, {1, 0}, {0, -1}, {-1, 0}};\n        set<pair<int, int>> visited;\n        backtrack(robot, pair<int, int>{0, 0}, 0, visited);\n    }\n};","compare_result":"11111111111111111111111111111","title_slug":"robot-room-cleaner","has_notes":false,"flag_type":1}