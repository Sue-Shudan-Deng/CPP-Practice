{"id":417842298,"lang":"python3","lang_name":"Python3","time":"2 years, 10 months","timestamp":1604784797,"status":10,"status_display":"Accepted","runtime":"448 ms","url":"/submissions/detail/417842298/","is_pending":"Not Pending","title":"Sentence Similarity II","memory":"15.6 MB","code":"class Solution:\n    def areSentencesSimilarTwo(self, words1: List[str], words2: List[str], pairs: List[List[str]]) -> bool:\n        if len(words1) != len(words2):\n            return False\n        if len(pairs) == 0:\n            return words1 == words2\n        word_set = set()\n        for w1, w2 in pairs:\n            word_set.add(w1)\n            word_set.add(w2)\n            \n        parent = collections.defaultdict(str)\n        size = collections.defaultdict(str)\n        n = len(words1)\n        \n        def find(node):\n            while node != parent[node]:\n                parent[node] = parent[parent[node]]\n                node = parent[node]\n            return parent[node]\n        \n        # 必须提前做好union\n        for u, v in pairs:\n            if not parent[u]:\n                parent[u] = u\n            if not parent[v]:\n                parent[v] = v\n            pu, pv = find(u), find(v)\n            if pu == pv:\n                continue\n            if size[pu] > size[pv]:\n                pu, pv = pv, pu\n            parent[pu] = pv\n            size[pv] += size[pu]\n            \n        for i in range(n):\n            if not find(words1[i]) == find(words2[i]):\n                return False\n        return True","compare_result":"111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"sentence-similarity-ii","has_notes":false,"flag_type":1}