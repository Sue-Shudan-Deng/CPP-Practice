{"id":417535864,"lang":"python3","lang_name":"Python3","time":"2 years, 10 months","timestamp":1604699797,"status":15,"status_display":"Runtime Error","runtime":"N/A","url":"/submissions/detail/417535864/","is_pending":"Not Pending","title":"Range Sum Query - Mutable","memory":"N/A","code":"class SegmentTreeNode:\n    def __init__(self, start, end, summ, left=None, right=None):\n        self.start = start\n        self.end = end\n        self.summ = summ\n        self.left = left\n        self.right = right\n\ndef buildSegmentTree(start, end, nums):\n    if start == end:\n        return SegmentTreeNode(start, start, nums[start])\n    mid = start + (end - start) // 2\n    l = buildSegmentTree(start, mid, nums)\n    r = buildSegmentTree(mid + 1, end, nums)\n    return SegmentTreeNode(start, end, l.summ + r.summ, l, r)\n\ndef UpdateTree(root, index, val):\n    if root.start == index and root.end == index:\n        root.summ = val\n        return\n    mid = root.start + (root.end - root.start) // 2\n    if index <= mid:\n        UpdateTree(root.left, index, val)\n    else:\n        UpdateTree(root.right, index, val)\n    root.summ = root.left.summ + root.right.summ\n    \ndef QuerySum(root, i, j):\n    if root.start == i and root.end == j:\n        return root.summ\n    m = i + (j - i) // 2\n    if j <= m: # i <= m and j <= m\n        return QuerySum(root.left, i, j)\n    elif i > m: # i > m and j > m\n        return QuerySum(root.right, i, j)\n    else: # i <= m and j > m\n        return QuerySum(root.left, i, m) + QuerySum(root.right, m + 1, j)\n\nclass NumArray:\n    def __init__(self, nums: List[int]):\n        self.root = buildSegmentTree(0, len(nums) - 1, nums)\n\n    def update(self, i: int, val: int) -> None:\n        UpdateTree(self.root, i, val)\n\n    def sumRange(self, i: int, j: int) -> int:\n        return QuerySum(self.root, i, j)\n\n# Your NumArray object will be instantiated and called as such:\n# obj = NumArray(nums)\n# obj.update(i,val)\n# param_2 = obj.sumRange(i,j)","compare_result":"1000000000","title_slug":"range-sum-query-mutable","has_notes":false,"flag_type":1}